{"remainingRequest":"/Users/a123/githubRep/vue-virtualized/node_modules/babel-loader/lib/index.js!/Users/a123/githubRep/vue-virtualized/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/a123/githubRep/vue-virtualized/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a123/githubRep/vue-virtualized/src/components/VueVirtualized.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a123/githubRep/vue-virtualized/src/components/VueVirtualized.vue","mtime":1620384618678},{"path":"/Users/a123/githubRep/vue-virtualized/node_modules/cache-loader/dist/cjs.js","mtime":1618913751720},{"path":"/Users/a123/githubRep/vue-virtualized/node_modules/babel-loader/lib/index.js","mtime":1617162271907},{"path":"/Users/a123/githubRep/vue-virtualized/node_modules/cache-loader/dist/cjs.js","mtime":1618913751720},{"path":"/Users/a123/githubRep/vue-virtualized/node_modules/vue-loader/lib/index.js","mtime":1617162281281}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2ExMjMvZ2l0aHViUmVwL3Z1ZS12aXJ0dWFsaXplZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZ1ZVZpcnRhdWxpemVkIiwKICBwcm9wczogewogICAgc291cmNlTGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgb3ZlcnNjYW46IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gODsKICAgICAgfQogICAgfSwKICAgIHJvd0hlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiA2MDsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3duTGlzdDogW10sCiAgICAgIGNvbnRhaW5lckhlaWdodDogbnVsbCwKICAgICAgc3RhcnRJbmRleDogMCwKICAgICAgZW5kSW5kZXg6IDAsCiAgICAgIHN0YXJ0T2Zmc2V0OiAwLAogICAgICBlbmRPZmZzZXQ6IDAsCiAgICAgIGFuY2hvckl0ZW06IHsKICAgICAgICBpbmRleDogMCwKICAgICAgICB0b3A6IDAsCiAgICAgICAgYm90dG9tOiAwCiAgICAgIH0sCiAgICAgIGNhY2hlOiBbXSwKICAgICAgdmlzaWJsZUNvdW50OiAwLAogICAgICBkaXJlY3Rpb246ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldEZpcnN0Q2hhck9mTmFtZTogZnVuY3Rpb24gZ2V0Rmlyc3RDaGFyT2ZOYW1lKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICByZXR1cm4gbmFtZS5zdWJzdHIoMCwgMSk7CiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyDliJ3lp4vljJYgY29udGFpbmVyIOmrmOW6puOAgeWPr+inhuWMuuWfn+WxleekuueahOS4quaVsOOAgXN0YXJ0T2Zmc2V044CBZW5kT2Zmc2V0IOetieWAvAogICAgdGhpcy5pbml0KCk7CiAgICB2YXIgYmVmb3JlID0gMDsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhZnRlciA9IHdpbmRvdy5kb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA/IHdpbmRvdy5kb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgICAgaWYgKGFmdGVyID4gYmVmb3JlKSB7CiAgICAgICAgaWYgKGFmdGVyID4gX3RoaXMuYW5jaG9ySXRlbS5ib3R0b20gJiYgX3RoaXMuYW5jaG9ySXRlbS5ib3R0b20pIHsKICAgICAgICAgIF90aGlzLmRpcmVjdGlvbiA9ICJ1cCI7IC8vIOabtOaWsCBzdGFydEluZGV444CBZW5kSW5kZXjjgIFzaG93bkxpc3TjgIFhbmNob3JJdGVt44CBCgogICAgICAgICAgX3RoaXMudXBkYXRlQm91bmRhcnlJbmRleChhZnRlcik7CgogICAgICAgICAgX3RoaXMudXBkYXRlRGF0YSgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoYWZ0ZXIgPCBfdGhpcy5hbmNob3JJdGVtLnRvcCAmJiBfdGhpcy5hbmNob3JJdGVtLnRvcCkgewogICAgICAgICAgX3RoaXMuZGlyZWN0aW9uID0gImRvd24iOwoKICAgICAgICAgIF90aGlzLnVwZGF0ZUJvdW5kYXJ5SW5kZXgoYWZ0ZXIpOwoKICAgICAgICAgIF90aGlzLnVwZGF0ZURhdGEoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGJlZm9yZSA9IGFmdGVyOwogICAgfSwgZmFsc2UpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICJ1cCIpIHsKICAgICAgICB0aGlzLnNob3duTGlzdC5zaGlmdCgpOwogICAgICAgIHRoaXMuc2hvd25MaXN0LnB1c2godGhpcy5zb3VyY2VMaXN0W3RoaXMuZW5kSW5kZXhdKTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuY2FjaGUuc2hpZnQoKTsKCiAgICAgICAgICB2YXIgZWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi52dWUtdmlydHVhbGl6ZWQtLWl0ZW0iKTsKCiAgICAgICAgICBfdGhpczIuY2FjaGVQb3NpdGlvbihBcnJheS5mcm9tKGVsZUxpc3QpW2VsZUxpc3QubGVuZ3RoIC0gMV0sIF90aGlzMi5lbmRJbmRleCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICJkb3duIikgewogICAgICAgIC8vIFRPRE8g5LiL5ouJ5pyJIGJ1ZwogICAgICAgIHRoaXMuc2hvd25MaXN0LnBvcCgpOwogICAgICAgIHRoaXMuc2hvd25MaXN0LnJldmVyc2UoKTsKICAgICAgICB0aGlzLnNob3duTGlzdC5wdXNoKHRoaXMuc291cmNlTGlzdFt0aGlzLnN0YXJ0SW5kZXggLSAxXSk7CiAgICAgICAgdGhpcy5zaG93bkxpc3QucmV2ZXJzZSgpOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5jYWNoZS5wb3AoKTsKCiAgICAgICAgICB2YXIgZWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi52dWUtdmlydHVhbGl6ZWQtLWl0ZW0iKTsKCiAgICAgICAgICBfdGhpczIuY2FjaGVQb3NpdGlvbihBcnJheS5mcm9tKGVsZUxpc3QpWzBdLCBfdGhpczIuc3RhcnRJbmRleCAtIDEsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5zdGFydE9mZnNldCA9IHRoaXMuYW5jaG9ySXRlbS50b3A7CiAgICAgIHRoaXMuZW5kT2Zmc2V0ID0gKHRoaXMuc291cmNlTGlzdC5sZW5ndGggLSB0aGlzLmVuZEluZGV4KSAqIHRoaXMucm93SGVpZ2h0OwogICAgfSwKICAgIHVwZGF0ZUJvdW5kYXJ5SW5kZXg6IGZ1bmN0aW9uIHVwZGF0ZUJvdW5kYXJ5SW5kZXgoKSB7CiAgICAgIHZhciBzY3JvbGxUb3AgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7CiAgICAgIHZhciBhbmNob3JJdGVtID0gdGhpcy5jYWNoZS5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uYm90dG9tID49IHNjcm9sbFRvcDsKICAgICAgfSk7CgogICAgICBpZiAoIWFuY2hvckl0ZW0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuYW5jaG9ySXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIGFuY2hvckl0ZW0pOwogICAgICB0aGlzLnN0YXJ0SW5kZXggPSB0aGlzLmFuY2hvckl0ZW0uaW5kZXg7CiAgICAgIHRoaXMuZW5kSW5kZXggPSB0aGlzLnN0YXJ0SW5kZXggKyB0aGlzLnZpc2libGVDb3VudCAtIDE7CiAgICB9LAoKICAgIC8qKgogICAgICog57yT5a2Y5Y+v6KeG5Yy65Z+f55qEIGRhdGEKICAgICAqLwogICAgY2FjaGVQb3NpdGlvbjogZnVuY3Rpb24gY2FjaGVQb3NpdGlvbihub2RlLCBpbmRleCkgewogICAgICB2YXIgaXNUcmFpbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKCiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgdmFyIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHZhciB0b3AgPSByZWN0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldDsKCiAgICAgICAgaWYgKGlzVHJhaWwpIHsKICAgICAgICAgIHRoaXMuY2FjaGUucHVzaCh7CiAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgdG9wOiB0b3AsCiAgICAgICAgICAgIGJvdHRvbTogdG9wICsgdGhpcy5yb3dIZWlnaHQKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNhY2hlLnJldmVyc2UoKTsKICAgICAgICAgIHRoaXMuY2FjaGUucHVzaCh7CiAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgdG9wOiB0b3AsCiAgICAgICAgICAgIGJvdHRvbTogdG9wICsgdGhpcy5yb3dIZWlnaHQKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jYWNoZS5yZXZlcnNlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmNvbnRhaW5lckhlaWdodCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi52dWUtdmlydHVhbGl6ZWQiKSkuaGVpZ2h0OwogICAgICAgIF90aGlzMy52aXNpYmxlQ291bnQgPSBNYXRoLmNlaWwocGFyc2VJbnQoX3RoaXMzLmNvbnRhaW5lckhlaWdodCkgLyBfdGhpczMucm93SGVpZ2h0KTsKICAgICAgICBfdGhpczMuc3RhcnRJbmRleCA9IDA7CiAgICAgICAgX3RoaXMzLmVuZEluZGV4ID0gX3RoaXMzLnN0YXJ0SW5kZXggKyBfdGhpczMudmlzaWJsZUNvdW50IC0gMTsKICAgICAgICBfdGhpczMuc2hvd25MaXN0ID0gX3RoaXMzLnNvdXJjZUxpc3Quc2xpY2UoX3RoaXMzLnN0YXJ0SW5kZXgsIF90aGlzMy5lbmRJbmRleCk7CiAgICAgICAgX3RoaXMzLnN0YXJ0T2Zmc2V0ID0gMDsKICAgICAgICBfdGhpczMuZW5kT2Zmc2V0ID0gKF90aGlzMy5zb3VyY2VMaXN0Lmxlbmd0aCAtIF90aGlzMy5lbmRJbmRleCkgKiBfdGhpczMucm93SGVpZ2h0OwoKICAgICAgICBfdGhpczMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnZ1ZS12aXJ0dWFsaXplZC0taXRlbSIpOwogICAgICAgICAgQXJyYXkuZnJvbShlbGVMaXN0KS5tYXAoZnVuY3Rpb24gKGVsZSwgaW5kZXgpIHsKICAgICAgICAgICAgX3RoaXMzLmNhY2hlUG9zaXRpb24oZWxlLCBpbmRleCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy5hbmNob3JJdGVtID0gX3RoaXMzLmNhY2hlWzBdOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["VueVirtualized.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,CAAA;AAAA;AAFA,KALA;AASA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AATA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,eAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA,CAJA;AAKA,MAAA,WAAA,EAAA,CALA;AAMA,MAAA,SAAA,EAAA,CANA;AAOA,MAAA,UAAA,EAAA;AACA,QAAA,KAAA,EAAA,CADA;AAEA,QAAA,GAAA,EAAA,CAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAPA;AAYA,MAAA,KAAA,EAAA,EAZA;AAaA,MAAA,YAAA,EAAA,CAbA;AAcA,MAAA,SAAA,EAAA;AAdA,KAAA;AAgBA,GAjCA;AAkCA,EAAA,QAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,aAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,OAFA;AAGA;AALA,GAlCA;AA0CA,EAAA,OA1CA,qBA0CA;AAAA;;AACA;AACA,SAAA,IAAA;AAEA,QAAA,MAAA,GAAA,CAAA;AACA,IAAA,MAAA,CAAA,gBAAA,CACA,QADA,EAEA,YAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,SAAA,GACA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,SADA,GAEA,MAAA,CAAA,QAAA,CAAA,eAAA,CAAA,SAFA;;AAIA,UAAA,KAAA,GAAA,MAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,UAAA,CAAA,MAAA,IAAA,KAAA,CAAA,UAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,mBAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,UAAA;AACA;AACA,OAPA,MAOA;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,UAAA,CAAA,GAAA,IAAA,KAAA,CAAA,UAAA,CAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,MAAA;;AACA,UAAA,KAAA,CAAA,mBAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,UAAA;AACA;AACA;;AACA,MAAA,MAAA,GAAA,KAAA;AACA,KAtBA,EAuBA,KAvBA;AAyBA,GAxEA;AAyEA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,UAAA,KAAA,SAAA,KAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,KAAA;AACA,aAAA,SAAA,CAAA,IAAA,CAAA,KAAA,UAAA,CAAA,KAAA,QAAA,CAAA;AAEA,aAAA,SAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,KAAA;;AACA,cAAA,OAAA,GAAA,QAAA,CAAA,gBAAA,CAAA,wBAAA,CAAA;;AACA,UAAA,MAAA,CAAA,aAAA,CACA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,CADA,EAEA,MAAA,CAAA,QAFA;AAIA,SAPA;AAQA,OAZA,MAYA,IAAA,KAAA,SAAA,KAAA,MAAA,EAAA;AACA;AACA,aAAA,SAAA,CAAA,GAAA;AACA,aAAA,SAAA,CAAA,OAAA;AACA,aAAA,SAAA,CAAA,IAAA,CAAA,KAAA,UAAA,CAAA,KAAA,UAAA,GAAA,CAAA,CAAA;AACA,aAAA,SAAA,CAAA,OAAA;AAEA,aAAA,SAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,GAAA;;AACA,cAAA,OAAA,GAAA,QAAA,CAAA,gBAAA,CAAA,wBAAA,CAAA;;AACA,UAAA,MAAA,CAAA,aAAA,CACA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA,CAAA,CADA,EAEA,MAAA,CAAA,UAAA,GAAA,CAFA,EAGA,KAHA;AAKA,SARA;AASA;;AAEA,WAAA,WAAA,GAAA,KAAA,UAAA,CAAA,GAAA;AACA,WAAA,SAAA,GACA,CAAA,KAAA,UAAA,CAAA,MAAA,GAAA,KAAA,QAAA,IAAA,KAAA,SADA;AAEA,KAnCA;AAoCA,IAAA,mBApCA,iCAoCA;AAAA,UAAA,SAAA,uEAAA,CAAA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,MAAA,IAAA,SAAA;AACA,OAFA,CAAA;;AAIA,UAAA,CAAA,UAAA,EAAA;AACA;AACA;;AAEA,WAAA,UAAA,qBAAA,UAAA;AACA,WAAA,UAAA,GAAA,KAAA,UAAA,CAAA,KAAA;AACA,WAAA,QAAA,GAAA,KAAA,UAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,KAhDA;;AAiDA;AACA;AACA;AACA,IAAA,aApDA,yBAoDA,IApDA,EAoDA,KApDA,EAoDA;AAAA,UAAA,OAAA,uEAAA,IAAA;;AACA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,qBAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,GAAA,GAAA,MAAA,CAAA,WAAA;;AAEA,YAAA,OAAA,EAAA;AACA,eAAA,KAAA,CAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,KADA;AAEA,YAAA,GAAA,EAAA,GAFA;AAGA,YAAA,MAAA,EAAA,GAAA,GAAA,KAAA;AAHA,WAAA;AAKA,SANA,MAMA;AACA,eAAA,KAAA,CAAA,OAAA;AACA,eAAA,KAAA,CAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,KADA;AAEA,YAAA,GAAA,EAAA,GAFA;AAGA,YAAA,MAAA,EAAA,GAAA,GAAA,KAAA;AAHA,WAAA;AAKA,eAAA,KAAA,CAAA,OAAA;AACA;AACA;AACA,KAzEA;AA0EA,IAAA,IA1EA,kBA0EA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,eAAA,GAAA,MAAA,CAAA,gBAAA,CACA,QAAA,CAAA,aAAA,CAAA,kBAAA,CADA,EAEA,MAFA;AAGA,QAAA,MAAA,CAAA,YAAA,GAAA,IAAA,CAAA,IAAA,CACA,QAAA,CAAA,MAAA,CAAA,eAAA,CAAA,GAAA,MAAA,CAAA,SADA,CAAA;AAGA,QAAA,MAAA,CAAA,UAAA,GAAA,CAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,UAAA,GAAA,MAAA,CAAA,YAAA,GAAA,CAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,UAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,CAAA;AACA,QAAA,MAAA,CAAA,SAAA,GACA,CAAA,MAAA,CAAA,UAAA,CAAA,MAAA,GAAA,MAAA,CAAA,QAAA,IAAA,MAAA,CAAA,SADA;;AAGA,QAAA,MAAA,CAAA,SAAA,CAAA,YAAA;AACA,cAAA,OAAA,GAAA,QAAA,CAAA,gBAAA,CAAA,wBAAA,CAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA,GAAA,CAAA,UAAA,GAAA,EAAA,KAAA,EAAA;AACA,YAAA,MAAA,CAAA,aAAA,CAAA,GAAA,EAAA,KAAA;AACA,WAFA;AAGA,UAAA,MAAA,CAAA,UAAA,GAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,SANA;AAOA,OArBA;AAsBA;AAjGA;AAzEA,CAAA","sourcesContent":["<template>\n  <div\n    class=\"vue-virtualized\"\n    :style=\"{ paddingTop: startOffset + 'px', paddingBottom: endOffset + 'px' }\"\n  >\n    <div\n      v-for=\"(name, index) in shownList\"\n      :key=\"index\"\n      class=\"vue-virtualized--item\"\n      :style=\"{ height: rowHeight + 'px' }\"\n    >\n      <div class=\"vue-virtualized--avatar\">\n        {{ getFirstCharOfName(name) }}\n      </div>\n      <div class=\"vue-virtualized--right\">\n        <span>{{ name }}</span>\n        <span>This is row {{ startIndex + index }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"VueVirtaulized\",\n  props: {\n    sourceList: {\n      type: Array,\n      default: () => []\n    },\n    overscan: {\n      type: Number,\n      default: () => 8\n    },\n    rowHeight: {\n      type: Number,\n      default: () => 60\n    }\n  },\n  data() {\n    return {\n      shownList: [],\n      containerHeight: null,\n      startIndex: 0,\n      endIndex: 0,\n      startOffset: 0,\n      endOffset: 0,\n      anchorItem: {\n        index: 0,\n        top: 0,\n        bottom: 0\n      },\n      cache: [],\n      visibleCount: 0,\n      direction: \"\"\n    };\n  },\n  computed: {\n    getFirstCharOfName() {\n      return function (name) {\n        return name.substr(0, 1);\n      };\n    }\n  },\n\n  mounted() {\n    // 初始化 container 高度、可视区域展示的个数、startOffset、endOffset 等值\n    this.init();\n\n    let before = 0;\n    window.addEventListener(\n      \"scroll\",\n      () => {\n        const after = window.document.body.scrollTop\n          ? window.document.body.scrollTop\n          : window.document.documentElement.scrollTop;\n\n        if (after > before) {\n          if (after > this.anchorItem.bottom && this.anchorItem.bottom) {\n            this.direction = \"up\";\n            // 更新 startIndex、endIndex、shownList、anchorItem、\n            this.updateBoundaryIndex(after);\n            this.updateData();\n          }\n        } else {\n          if (after < this.anchorItem.top && this.anchorItem.top) {\n            this.direction = \"down\";\n            this.updateBoundaryIndex(after);\n            this.updateData();\n          }\n        }\n        before = after;\n      },\n      false\n    );\n  },\n  methods: {\n    updateData() {\n      if (this.direction === \"up\") {\n        this.shownList.shift();\n        this.shownList.push(this.sourceList[this.endIndex]);\n\n        this.$nextTick(() => {\n          this.cache.shift();\n          const eleList = document.querySelectorAll(\".vue-virtualized--item\");\n          this.cachePosition(\n            Array.from(eleList)[eleList.length - 1],\n            this.endIndex\n          );\n        });\n      } else if (this.direction === \"down\") {\n        // TODO 下拉有 bug\n        this.shownList.pop();\n        this.shownList.reverse();\n        this.shownList.push(this.sourceList[this.startIndex - 1]);\n        this.shownList.reverse();\n\n        this.$nextTick(() => {\n          this.cache.pop();\n          const eleList = document.querySelectorAll(\".vue-virtualized--item\");\n          this.cachePosition(\n            Array.from(eleList)[0],\n            this.startIndex - 1,\n            false\n          );\n        });\n      }\n\n      this.startOffset = this.anchorItem.top;\n      this.endOffset =\n        (this.sourceList.length - this.endIndex) * this.rowHeight;\n    },\n    updateBoundaryIndex(scrollTop = 0) {\n      const anchorItem = this.cache.find((item) => {\n        return item.bottom >= scrollTop;\n      });\n\n      if (!anchorItem) {\n        return;\n      }\n\n      this.anchorItem = { ...anchorItem };\n      this.startIndex = this.anchorItem.index;\n      this.endIndex = this.startIndex + this.visibleCount - 1;\n    },\n    /**\n     * 缓存可视区域的 data\n     */\n    cachePosition(node, index, isTrail = true) {\n      if (node) {\n        const rect = node.getBoundingClientRect();\n        const top = rect.top + window.pageYOffset;\n\n        if (isTrail) {\n          this.cache.push({\n            index: index,\n            top,\n            bottom: top + this.rowHeight\n          });\n        } else {\n          this.cache.reverse();\n          this.cache.push({\n            index: index,\n            top,\n            bottom: top + this.rowHeight\n          });\n          this.cache.reverse();\n        }\n      }\n    },\n    init() {\n      this.$nextTick(() => {\n        this.containerHeight = window.getComputedStyle(\n          document.querySelector(\".vue-virtualized\")\n        ).height;\n        this.visibleCount = Math.ceil(\n          parseInt(this.containerHeight) / this.rowHeight\n        );\n        this.startIndex = 0;\n        this.endIndex = this.startIndex + this.visibleCount - 1;\n        this.shownList = this.sourceList.slice(this.startIndex, this.endIndex);\n        this.startOffset = 0;\n        this.endOffset =\n          (this.sourceList.length - this.endIndex) * this.rowHeight;\n\n        this.$nextTick(() => {\n          const eleList = document.querySelectorAll(\".vue-virtualized--item\");\n          Array.from(eleList).map((ele, index) => {\n            this.cachePosition(ele, index);\n          });\n          this.anchorItem = this.cache[0];\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.vue-virtualized {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n\n.vue-virtualized--item {\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n  border: 1px solid #e0e0e0;\n  border-bottom: none;\n}\n\n.vue-virtualized--item:last-child {\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.vue-virtualized--avatar {\n  width: 40px;\n  height: 40px;\n  margin-right: 25px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 50%;\n  color: #fff;\n  font-size: 1.5em;\n  background: rgb(244, 67, 54);\n}\n\n.vue-virtualized--right {\n  display: flex;\n  flex-direction: column;\n}\n\nspan {\n  text-align: start;\n}\n</style>"],"sourceRoot":"src/components"}]}